<clinical-header></clinical-header>

<div class="container_page">
    <div class="container mt-3">
        <h4>{{TITLE}}</h4>
        <div class="buttons">
            <mat-checkbox [checked]="true" (change)="toggleClinicians($event)" style="margin-right: 20px;"> Clinicians </mat-checkbox>
            <mat-checkbox [checked]="true" (change)="toggleParents($event)"> Parents </mat-checkbox>
        </div>
        <br>

        <!-- Clinicians starts here -->

        <div *ngIf="showClinicians">
            <label style="font-weight:bold"> Clinicians </label>

            <div>
                <mat-checkbox (change)="selectAllClinicians($event)"> Select All Clinicians </mat-checkbox>
                <span style="color:gray; margin-left: 20px; margin-right: 20px; font-size: x-large;"> | </span>
                <button style="font-family: Roboto"><i class="fa fa-trash"></i> Delete </button>
            </div>
            
            <table class="table table-bordered table-inverse">
                <tr>
                    <th width="5%"> Select </th>
                    <th width="25%"> Username </th>
                    <th width="11.5%"> Role / Abbrev. </th>
                    <th width="43.5%"> Name </th>
                    <th width="15%"> No. of Patients </th>
                </tr>
                <tr *ngFor="let u of ffqclinicianList; index as i">
                    <td align="center"><mat-checkbox [checked]="toggleAllClinicians"></mat-checkbox></td>
                    <td><a [routerLink]="['/clinic/user', u.clinicianId]"> {{ u.username }} </a></td>
                    <td> {{ u.abbrev }} </td>
                    <td> {{ u.firstname }} {{ u.lastname }}</td>
                    <td> {{ numberOfPatients[i] }} </td>
                </tr>
            </table>
        </div>
        <!-- Clinicians ends here -->

        <!-- Parents starts here -->

        <div *ngIf="showParents">
            <label style="font-weight:bold"> Parents </label>

            <div>
                <mat-checkbox (change)="selectAllParents($event)"> Select All Parents </mat-checkbox>
                <span style="color:gray; margin-left: 20px; margin-right: 20px; font-size: x-large;"> | </span>
                <mat-checkbox (change)="toggleUnassigned($event)"> Hide All Unassigned </mat-checkbox>
                <span style="color:gray; margin-left: 20px; margin-right: 20px; font-size: x-large;"> | </span>
                <mat-form-field>
                    <mat-label appearance="fill">Assign to Clinician...</mat-label>
                    <select matNativeControl>
                      <option *ngFor="let u of ffqclinicianList">{{ u.abbrev }} {{ u.lastname }}</option>
                    </select>
                </mat-form-field>
                <button style="font-family: Roboto; margin-left: 10px;"> OK </button>
                <span style="color:gray; margin-left: 20px; margin-right: 20px; font-size: x-large;"> | </span>
                <button style="font-family: Roboto"><i class="fa fa-trash"></i> Delete </button>
            </div>

            <table class="table table-bordered table-inverse">
                <tr>
                    <th width="5%"> Select </th>
                    <th width="25%"> Username </th>
                    <th width="45%"> Parent Name </th>
                    <th width="25%"> Assigned Clinician </th>
                </tr>
                <tr *ngFor="let u of ffqparentList; index as i" [hidden]="hideUnassigned && !clinicianNames[i]">
                    <td align="center"><mat-checkbox [checked]="toggleAllParents"></mat-checkbox></td>
                    <td><a [routerLink]="['/clinic/user', u.parentId]"> {{ u.username }} </a></td>
                    <td> {{ u.firstname }} {{ u.lastname }}</td>
                    <td> {{ clinicianNames[i] }}</td>
                </tr>
            </table>

        </div>

        <!-- Parents ends here -->

	</div>
</div>